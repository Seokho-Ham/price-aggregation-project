## API 문서

- 로컬에서 애플리케이션을 실행 후 http://localhost:8080/swagger-ui/index.html 로 접속하시면 API 문서를 확인하실 수 있습니다.

![api-image](./assets/api-docs.png)

### ERD

![erd-image](./assets/assignment-erd.jpeg)

## 실행 방법

- 현재 프로젝트에서 EmbeddedRedis를 사용했는데, ARM 기반의 맥북에서는 의존성 추가만으로는 실행되지 않는 이슈가 있어 바이너리 파일을 `/src/main/resources/binary/redis` 경로에 위치하도록 했습니다.

```bash

# 1. 백엔드 폴더로 이동합니다.
cd  /backend

# 2. 빌드를 실행합니다.
./gradlew clean build

# 3. jar 파일을 실행합니다.
java -jar ./build/libs/assignment-0.0.1-SNAPSHOT.jar
```

## 테스트

- 총 XX 개의 테스트를 작성하였습니다.
- 사진 추가 예정

## 개발 중 고민사항

### 집계 데이터 생성 방식

아래 2가지 방식을 고민하였고 최종적으로 **데이터에 변경이 발생할때 이벤트를 생성하여 집계 데이터를 업데이트하는 방식**을 선택했습니다.

- 1번: 스케줄러를 사용하여 일정 시간마다 캐시에 적재하는 집계 데이터를 새롭게 생성하는 방식
- 2번: 브랜드 혹은 상품 데이터에 변경이 발생할때 이벤트를 생성하여 실시간으로 집계 데이터를 업데이트하는 방식

실제 운영하는 서비스라면 브랜드와 상품 데이터에 변경이 발생하는 일이 빈번할것으로 예상하여 스케줄러 혹은 배치를 사용하여 일정 주기로 집계를 진행해야한다고 생각합니다.
하지만 현재 과제에서는 브랜드와 상품 데이터에 변경이 자주 발생하지 않고, 변경 후 바로 데이터를 조회할 경우 실시간으로 변경된 데이터를 제공해야하는 요구사항을 충족하기 위해 2번 방식을 사용했습니다.

아래 그림은 api 콜이 발생했을때의 흐름도입니다.

![post](/assets/post.png)
![get](/assets/get.png)

## 추후 개선할 사항

- 실제 서비스처럼 대량의 데이터를 처리한다고 가정했을때 실시간 정보가 중요한 가격 정보를 어떻게 최신화 할 수 있을지 고민 후 개선.
- 집계 데이터의 히스토리를 관리하는 DB 테이블 설계 후 적용.
